<%- include('partials/header',{title:"Gallery"}) %>

<section class="container py-5">
    <!-- Gallery Header -->
<!--    <div class="text-center mb-5">-->
<!--        <h2 class="fw-bold">Gallery</h2>-->
<!--    </div>-->

    <!-- Grid Gallery -->
    <div class="grid-gallery">
        <% images.forEach((gallery, index) => { %>
            <% if (gallery.filename) { %>
                <div class="grid-item <%= (index % 7 === 0) ? 'big' : '' %>">
                    <img src="<%= gallery.filename %>" alt="Uploaded image" loading="lazy">
                    <div class="overlay">
                        <a href="/delete/<%= index %>" class="btn btn-danger btn-sm">
                            <i class="bi bi-trash3"></i> Delete
                        </a>
                    </div>
                </div>
            <% } %>
        <% }) %>
    </div>
</section>

<style>
    /* Grid Layout */
    .grid-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
    }

    .grid-item {
        position: relative;
        overflow: hidden;
        border-radius: 12px;
        background: #fff;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease;
    }

    .grid-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .grid-item.big {
        grid-column: span 2;
        grid-row: span 2;
    }

    .grid-item:hover img {
        transform: scale(1.05);
    }

    /* Overlay */
    .overlay {
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.45);
        opacity: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.3s ease;
    }

    .grid-item:hover .overlay {
        opacity: 1;
    }

    @media (max-width: 768px) {
        .grid-item.big {
            grid-column: span 1;
            grid-row: span 1;
        }
    }
</style>
